<main>
  <!-- Hero / cabecera visual -->
  <section class="sectionindex">
    <img src="assets/imagenes/pulp.jpeg">
    <img src="assets/imagenes/regreso.jpg">
    <img src="assets/imagenes/akira.jpg">
    <img src="assets/imagenes/terminator.jpg">
  </section>

  <!-- Carrusel 1: Mejor valoradas -->
 <app-carousel
  [title]="'Mejor valoradas'"
  [items]="topRatedItems"
  [steps]="steps"
  [leftPadding]="leftPaddingPx"
  (itemClick)="onCarouselItem($event)">
</app-carousel>


  <!-- GRID Género Acción (mejor valoradas) -->
  <div class="titulos section-title-block">
    <h1 >Acción</h1>
  </div>

  <div class="divsproductos">
  <a class="product"
     *ngFor="let m of actionMovies"
     [routerLink]="['/movies', m.id]">
    <img class="blur-in" [src]="m.posterUrl || 'assets/imagenes/placeholder-poster.png'" [alt]="m.title" />
    <div class="overlay">
      <p class="titleproducto">{{ m.title }}</p>
      <p class="rating">⭐ {{ m.averageRating ?? '—' }}</p>
      <p class="descripcion">{{ m.description || 'Sin descripción.' }}</p>
    </div>
  </a>
</div>


  <!-- Carrusel 2: Próximos estrenos (sin puntuación) -->
  <app-carousel
    [title]="'Próximos estrenos'"
    [items]="upcomingItems"
    [steps]="steps"
    [leftPadding]="leftPaddingPx"
    (itemClick)="onCarouselItem($event)">
  </app-carousel>

  <!-- Mini-sección Géneros (tarjetas con contador) -->
  <section class="genres-mini">
    <h1 class="genres-mini-title">Géneros</h1>
    <div class="genres-cards">
      <a *ngFor="let g of visibleGenreCards"
         class="genre-card"
         [routerLink]="['/movies']"
         [queryParams]="{ genre: g.slug }">
        <img class="genre-card-bg"
             [src]="g.posterUrl || 'assets/imagenes/placeholder-poster.png'"
             [alt]="''"
             loading="lazy" />
        <span class="genre-card-overlay"></span>
        <span class="genre-card-name">{{ g.name }}</span>
        <span class="genre-card-count">({{ g.movieCount }})</span>
      </a>
      <button *ngIf="showMoreGenresButton"
              type="button"
              class="genre-card genre-card-more"
              (click)="genresExpanded = true">
        <span class="genre-card-more-text">Ver más géneros</span>
      </button>
    </div>
  </section>

  <!-- Carrusel: Actores más populares (datos en recuadro gris abajo) -->
  <app-carousel
    [title]="'Actores más populares'"
    [items]="popularActorsItems"
    [steps]="steps"
    [leftPadding]="leftPaddingPx"
    [infoAtBottom]="true"
    (itemClick)="onCarouselItem($event)">
  </app-carousel>

  <!-- Carrusel: Selecciones populares -->
  <app-carousel
    [title]="'Selecciones populares'"
    [items]="popularItems"
    [steps]="steps"
    [leftPadding]="leftPaddingPx"
    (itemClick)="onCarouselItem($event)">
  </app-carousel>

</main>
