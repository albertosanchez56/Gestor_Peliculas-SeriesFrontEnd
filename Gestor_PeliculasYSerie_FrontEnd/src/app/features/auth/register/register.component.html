<br>
<div class="login-card">
  

  <form [formGroup]="form" (ngSubmit)="submit()">
    <h2>Crear cuenta</h2>
    <!-- Display name -->
    <label>Nombre para mostrar</label>
    <input type="text" formControlName="displayName" autocomplete="name" />
    <small class="err" *ngIf="touchedInvalid('displayName')">
      <span *ngIf="f.displayName.errors?.['required']">El nombre es obligatorio.</span>
      <span *ngIf="f.displayName.errors?.['minlength']">Mínimo 2 caracteres.</span>
    </small>

    <!-- Username -->
    <label>Usuario</label>
    <input type="text" formControlName="username" autocomplete="username" />
    <small class="err" *ngIf="touchedInvalid('username')">
      <span *ngIf="f.username.errors?.['required']">El usuario es obligatorio.</span>
      <span *ngIf="f.username.errors?.['minlength']">Mínimo 3 caracteres.</span>
    </small>

    <!-- Email -->
    <label>Email</label>
    <input type="email" formControlName="email" autocomplete="email" />
    <small class="err" *ngIf="touchedInvalid('email')">
      <span *ngIf="f.email.errors?.['required']">El email es obligatorio.</span>
      <span *ngIf="f.email.errors?.['email']">El email no es válido.</span>
    </small>

    <!-- Password -->
    <label>Contraseña</label>
    <input type="password" formControlName="password" autocomplete="new-password" />
    <small class="err" *ngIf="touchedInvalid('password')">
      <span *ngIf="f.password.errors?.['required']">La contraseña es obligatoria.</span>
      <span *ngIf="f.password.errors?.['minlength']">Mínimo 6 caracteres.</span>
    </small>

    <!-- Confirm password -->
    <label>Repetir contraseña</label>
    <input type="password" formControlName="confirmPassword" autocomplete="new-password" />
    <small class="err" *ngIf="touchedInvalid('confirmPassword')">
      <span *ngIf="f.confirmPassword.errors?.['required']">Repite la contraseña.</span>
      <span *ngIf="f.confirmPassword.errors?.['minlength']">Mínimo 8 caracteres.</span>
    </small>

    <small class="err" *ngIf="passwordMismatch">
      Las contraseñas no coinciden.
    </small>

    <button type="submit" [disabled]="loading">
      {{ loading ? 'Creando...' : 'Crear cuenta' }}
    </button>

    <p class="ok" *ngIf="ok">{{ ok }}</p>
    <p class="err" *ngIf="error">{{ error }}</p>

    <p style="margin-top: 10px;">
      ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
    </p>
  </form>
</div>

<br>
